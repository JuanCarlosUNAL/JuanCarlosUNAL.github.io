<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.92e9ceb86e58f0a57968.css" id="gatsby-global-css">:root{--bg-color:#fafbfc;--bg-tooltip:#151515;--bg-card:#fefefe;--f-tooltip:#f5f0f0;--f-main-color:#151515;--f-second-color:#422fbd}@media(prefers-color-scheme:dark){:root{--bg-color:#151515;--bg-tooltip:#f5f0f0;--bg-card:#252525;--f-main-color:#f5f0f0;--f-second-color:#ff893a;--f-tooltip:#151515}}body{background-color:var(--bg-color);color:var(--f-main-color);font-family:Courier New;margin:0}html{font-size:18px}.blog-module--blog-content--sdDDH{margin:6rem auto 1rem;max-width:50rem;min-height:100%;padding:.25rem}.blog-module--blog-content--sdDDH code,.blog-module--blog-content--sdDDH pre{font-family:Menlo,Monaco,Courier New,monospace}.blog-module--blog-content--sdDDH a{color:var(--f-second-color)}.blog-module--blog-content--sdDDH a:visited{text-decoration:none}@media screen and (min-width:32rem)and (max-width:48rem){.blog-module--blog-content--sdDDH{font-size:15px}}@media screen and (min-width:48rem){.blog-module--blog-content--sdDDH{font-size:16px}}.blog-module--blog-content--sdDDH body{line-height:1.85}.blog-module--blog-content--sdDDH p{font-size:1rem;margin-bottom:1.3rem}.blog-module--blog-content--sdDDH h1,.blog-module--blog-content--sdDDH h2,.blog-module--blog-content--sdDDH h3,.blog-module--blog-content--sdDDH h4{font-weight:inherit;line-height:1.42;margin:1.414rem 0 .5rem}.blog-module--blog-content--sdDDH h1{font-size:3.998rem;margin-top:0}.blog-module--blog-content--sdDDH h2{font-size:2.827rem}.blog-module--blog-content--sdDDH h3{font-size:1.999rem}.blog-module--blog-content--sdDDH h4{font-size:1.414rem}.blog-module--blog-content--sdDDH h5{font-size:1.121rem}.blog-module--blog-content--sdDDH h6{font-size:.88rem}.blog-module--blog-content--sdDDH small{font-size:.707em}.blog-module--blog-content--sdDDH canvas,.blog-module--blog-content--sdDDH iframe,.blog-module--blog-content--sdDDH img,.blog-module--blog-content--sdDDH select,.blog-module--blog-content--sdDDH svg,.blog-module--blog-content--sdDDH textarea,.blog-module--blog-content--sdDDH video{max-width:100%}.blog-module--blog-content--sdDDH pre{background-color:var(--bg-card);border:1px solid var(--bg-tooltip);line-height:1.25;overflow-x:scroll;padding:.5rem}.blog-module--blog-content--sdDDH blockquote{border-left:3px solid #01ff70;padding-left:1rem}.styles-module--tooltip-container--2uG54{position:relative}.styles-module--tooltip-container--2uG54:hover .styles-module--content--3AaYd{visibility:visible}.styles-module--content--3AaYd{position:absolute;top:1.7rem;visibility:hidden;width:10rem}.styles-module--content--3AaYd p{background-color:var(--bg-tooltip);border-radius:.3rem;color:var(--f-tooltip);margin:-5px 0 0 -.25rem;padding:.4rem}.styles-module--content--3AaYd:before{border:.5rem solid transparent;border-bottom:.5rem solid var(--bg-tooltip);content:"";display:inline-block;margin-left:.5rem}.index-module--container--k7ALA{align-items:center;display:flex;flex-direction:column;height:100vh;justify-content:center;margin:0;width:100%}.index-module--profile-image--3jivO{border-radius:100%;height:20vw;width:20vw}.index-module--inverted--28uo3 :nth-child(odd){color:var(--f-main-color)}.index-module--inverted--28uo3 :nth-child(2n),.index-module--inverted--28uo3:hover :nth-child(odd){color:var(--f-second-color)}.index-module--inverted--28uo3:hover :nth-child(2n){color:var(--f-main-color)}.index-module--contact-container--2ETE8{display:flex;padding:0}.index-module--icon--3YLhn{list-style-type:none;margin:0 .5rem;position:relative}.index-module--icon--3YLhn svg{color:var(--f-main-color);height:2rem;width:2rem}.index-module--icon--3YLhn:hover svg{color:var(--f-second-color)}.index-module--icon--3YLhn:hover .index-module--tooltip--2UaUJ{visibility:visible}.wltw-module--container--3I0fc{align-items:center;display:flex;flex-direction:column;margin-top:2rem;padding:0 1rem}.wltw-module--title--4U-0e{font-family:sans-serif;font-weight:700;text-align:center}.wltw-module--subtitle--IL2lq{color:var(--f-second-color);font-family:sans-serif;text-align:center}.wltw-module--entries-container--2DodS{align-items:center;display:flex;flex-direction:column;width:100%}.wltw-module--link--2BaC3{max-width:51rem;text-decoration:none;width:100%}.wltw-module--entry-container--7xI3r{display:flex;flex-direction:column;margin-top:2rem}.wltw-module--entry-container--7xI3r h2{font-family:sans-serif;font-size:1.5rem;font-weight:700;margin:.1rem 0}.wltw-module--entry-container--7xI3r:hover h2{color:var(--f-second-color)}.card-module--container---I27S{background-color:var(--bg-card);border-radius:.5rem;box-shadow:0 0 1rem rgba(163,171,180,.3);box-sizing:border-box;color:var(--f-main-color);padding:1rem;width:100%}.card-module--container---I27S:hover{box-shadow:0 0 1rem var(--f-second-color)}@media(prefers-color-scheme:dark){.card-module--container---I27S{box-shadow:0 0 1rem rgba(0,0,0,.2)}}</style><meta name="generator" content="Gatsby 3.5.0"/><title data-react-helmet="true"></title><link as="script" rel="preload" href="/webpack-runtime-b3fbb17839a7b6b221ae.js"/><link as="script" rel="preload" href="/framework-bee7a8ddabfa6589450d.js"/><link as="script" rel="preload" href="/app-4ec94952307a3bcd6b4e.js"/><link as="script" rel="preload" href="/component---src-blog-entries-blog-template-tsx-2032f053caa807f2328e.js"/><link as="fetch" rel="preload" href="/page-data/es/wltw/seq2seq-cross-validation/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="blog-module--blog-content--sdDDH"><h1>Validación cruzada en modelos secuenciales</h1><hr/><h2>Primero algo de contexto</h2><p>En los ultimos dias he estado colaborando con un proyecto de etiquetado de entidades, tenemos un modelo tentativo y ahora requerimos validar dicho modelo con cross validation</p><h2>Validation Cruzada</h2><p>En un principio el dataset es dividido en 3 partes. test, valijación y entrenamiento. Sin embargo esto deja el conjunto de entrenamiento un poco reducido y un conjunto de validación sesgado, que se comporte bien para alguna clase y con datos erroneos del performance del modelo.</p><p>Validacion cruzada o Cross validation en inglés. Es una tectnica para evaluar el comportamiento de un modelo aprovechando al maximo el dataset de entrenamiento y de validación.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:521px">
      <a class="gatsby-resp-image-link" href="/static/3828a04c506acbd8e40a2dd91852ee39/bb9c5/cross_validation.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:49.33333333333333%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAADNUlEQVQozwEqA9X8AF2SyChbj8QUWo7DGFqPxBVhls0gWom6LU99qilbirssYZLGJ2eHtx1djb4fWZDCKVeDsStVf6wsWH+sLFWMvipaj8EiXoy8Hl6MvSBfkMUaAFyQxQ5FbZUA8///ATZumgBAneAGJ1iFHi5JbDEqVoAmSJ7mFwD//wZh3v8JeaTuGSZikxodT3ciDlWAHW2Exhh6tP8QIP//A1C//w4awP8DAGKZ0hU/YociNlFtLTh6sCCBeI08m4eBinubnZGgkY2OhFhJce4AAE9bMxpLA1ZHT3Y/LFSAPChVry0WVgBoXVMkVEJQdDkhUHM3H0//AAAKAGGY0BRHb5kiQWSJLkOCtiWLa4MmglxOVjxxY1CFWklTaFxSZMFTRGJ+b2VdUW9mXng+J0GFOB87tygNPQBoWDskVkQ+cz0nQHI7JT//AAAIAGCY0BRAZIobNU9sIjl7qx6kZoQddDMdQQBVRUBxIwk+ZmddZst9c3ibkYpxdIR+d2MyIFVpJxJMlBsEUABaTEgkVENEcTokRnE4I0X/AAAJAGKZ0hVEa5MoPFt8ND59ri2daIUneT4qVQtcTFJ4OyVWYTkjUe0BAFdZMBlOAFBDXpSAeIqki4OKt4Z+jj14cXodUkBSeUArVXU9J1P/AAALAF2SyRI9YYUERW2VDE17qAdUfbIBOQgNBBohMQUxCQ8EJRwhBGw+RAVaPEkELjE3CISMlBONnKYTlKasEjk4OgwAAAADAAAAAwAAAAT0AAAAAGCXzxREapEZPFl6ITuAsh2jZoEefz4kQApiUEB9OyJCaEIqQf0QAEVnQig/EGNPPXw3GjyEMRU/uBYAPCxyaFx/j4hwm4Z8bZF8c3GUOzETAGCXzxVFbJQcOVh5JT95px+QcJMZb0M6ORNZUjZuPjM4XEQ6N9MeDDpbUlNEHldYRWNGRUdyTEpDmSoaNjVubE17jItalIWBV4l9fF6GTVESAFyQxhFPfKkALkVfAEWAsAAguP8ERuD/Cs/j/wY8//8HV/z/BwD//wVWpvIbRV2MJDV0rCNSwP8VAP//Bub3/wQAdf8CANb/AQCw/wc4wf8EBBMhRBnJY+4AAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="cross validation" title="cross validation" src="/static/3828a04c506acbd8e40a2dd91852ee39/bb9c5/cross_validation.png" srcSet="/static/3828a04c506acbd8e40a2dd91852ee39/5a46d/cross_validation.png 300w,/static/3828a04c506acbd8e40a2dd91852ee39/bb9c5/cross_validation.png 521w" sizes="(max-width: 521px) 100vw, 521px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p><ol><li>Escojemos un numero k que indica el numero de iteraciones y la cantidad de diviciones del conjunto.</li><li>Estas subdiviciones tendran doble funcion, como entrenamiento y validacion.</li><li>Usamos uno de los fold como validación y los restantes como training</li><li>Iteramos usando una subdivicion distinata como testing cada vez.</li></ol><h3>Problematica</h3><p>El caso anterior funciona muy bien para modelos donde el resultado actual es independiente de los resultado anteriores o siguientes, sin embargo para modelos secuenciales que normalmente dependen de antriores estados resulta problematico dividir el dataset de esta manera ya que se pierde la información.</p><h2>Solucion</h2><p>Para solventar este problema hay dos aproximaciones</p><h3>Validacion cruzada en series de timepo</h3><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:630px">
      <a class="gatsby-resp-image-link" href="/static/d422512a53adcf49fbdf2e18bb4bd436/f058b/cross_validation_time_series.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:47%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACS0lEQVQoz0WQX2/SABTFD7hYX3yZPs3oqx/AJw2FFtrSFgr9CwOW6JKZbGZxigkDNqDrPwotLRujxGRv+m188hPNrJjsJCf35t7k5OQH3N8D1XMK8oiBbvMZ+ZKBYnFFrcGbx1rpdjETnNmC9TyPDYK5YNt2KQgC3vd9znVdJgxDYTqdMr1ejwWQRRpYu/gA9YpEw6OhmiR0uwAjop6LJ7nTTpm+84f5KL7OB/E1PfW8XBzHVBiGBd/3yTiO6SAIyMFgkH8M1KwCmj6D9kJAY8pgf85l2wGPZlCCEQiVVou1v39kf22WQnSzLt0mCb9a3XDL5ZJJkkRYrVYl0zQfGmaQqnouQh7XoNsa5FENqilDt9VMfShBdzQodv1Z9Vu9c2Bo3o8j6SYKVXcWyq7j1MIw1Hzfl3q9ngzgybah4eSwP6fQiVnszyi0wiI6EYOmX0BnwWZbcxrtJY1mxL7VjwuXJwbzex0Ul+ufVLLZsMl6XbAsi942TBkO36fsDI+CMiGhWXkYLgV5nEundkVmNJPMNlwKipND3aIOjHI+6h6QmyShZ2GU6/f75CNDqV+CMinDcCuQx2WoVzwMR4Q84qA7Fagmn1p3Khn5gkPDE6E6/J54WO5/1ipLd8z1B0N+G/ggoctCGghQJhKq5wJqFyKUcRXVHg95JEEe8f8tpTdlXM3WhyJqEwFiV1L1On/W5sUtwwdRRwTYUwJClwDzhQD3dbuTnwh4f3ew+/oVXrzZg/VnB/nD7Y87I3aLHQLNOwLvuoT0EgTwFP8A0njfBugSBioAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="cross validation" title="cross validation" src="/static/d422512a53adcf49fbdf2e18bb4bd436/f058b/cross_validation_time_series.png" srcSet="/static/d422512a53adcf49fbdf2e18bb4bd436/5a46d/cross_validation_time_series.png 300w,/static/d422512a53adcf49fbdf2e18bb4bd436/0a47e/cross_validation_time_series.png 600w,/static/d422512a53adcf49fbdf2e18bb4bd436/f058b/cross_validation_time_series.png 630w" sizes="(max-width: 630px) 100vw, 630px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p><ol><li>Igual que la validacion cruzada escogemos un <em>k</em></li><li>Escogemos los <em>n</em> primeras diviciones para entrenamiento y la siguiente es la de validacion</li><li>Iteramos y avanzamos la divicion de validacion en las diviciones restantes.</li></ol><p>De esta manera no se rompe la estructura secuancial de nuestro conjunto de datos. Sin embargo es notable que la ultima iteración tendra mas entrenamiento por tanto un mejor performace.</p><h3>Validación cruzada en bloques de series de tiempo</h3><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:605px">
      <a class="gatsby-resp-image-link" href="/static/84752bb602b0d8884147369df3ba816c/90cbd/cv_block_time_series.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:69%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAABo0lEQVQoz42SbW8TMQzH9/2/Cm8QL3gzQEIToHKq1nadQIPdtV1Vcb2HXO6hsZ3Ynu6uKqMw4C8rihL98rdjX6iqiIbgmb0qN203mUxuBs3n88ViMZ1Ol8tlFEWz2QwRQwh+kKpeqGpTm6/35Ys39uXb7OH1qyrfG1uXRWGrylpbDasxxlrrBgFA0zTe+x5GROeAgiKJeNL/kHOOiHq4rmvn3HialnwZwfvPdf7pA8OBRYW5L+05GAaNp0CSGS6M95VR5X84W2v3+z0ini5kcCkauYzgXeT2V1fiWtYxBfkFTtM0z3MiOpEjDMg/ij6wyFT8n53Lssyy7KnzWQpVpx9vaLJw+fSaDx1LfwEjHEJo2/ZU8+/wAeR+6+MtddsHFTr/sOfgn68Ma0c6++av77y5/QImpxDOW/UX+AByG/tlwvXdd6iKI4yIdV0jIjwRDgIAIgKAfooIVftg1bppj2mLiLW26zpm3u12ZVmKyHq9HruwWq2MMcy82WyMqbznJI6LojjO9sjL8D/e+xCCqlprkyRJ0zSO47EXRMTDtCHiuHkEVkgnS+ZJ1tcAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="cross validation" title="cross validation" src="/static/84752bb602b0d8884147369df3ba816c/90cbd/cv_block_time_series.png" srcSet="/static/84752bb602b0d8884147369df3ba816c/5a46d/cv_block_time_series.png 300w,/static/84752bb602b0d8884147369df3ba816c/0a47e/cv_block_time_series.png 600w,/static/84752bb602b0d8884147369df3ba816c/90cbd/cv_block_time_series.png 605w" sizes="(max-width: 605px) 100vw, 605px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p><ol><li>Escogemos $k$ diviciones</li><li>de cada una de estas diviciones seleccionamos una porcion para entrenamiento y otra para testign</li></ol></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/es/wltw/seq2seq-cross-validation";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-fd41d3bba3dba0c60639.js"],"app":["/app-4ec94952307a3bcd6b4e.js"],"component---src-blog-entries-blog-template-tsx":["/component---src-blog-entries-blog-template-tsx-2032f053caa807f2328e.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-c42bfebeaa980d619523.js"],"component---src-pages-wltw-tsx":["/component---src-pages-wltw-tsx-f0db3e2b097726ecd0de.js"]};/*]]>*/</script><script src="/polyfill-fd41d3bba3dba0c60639.js" nomodule=""></script><script src="/component---src-blog-entries-blog-template-tsx-2032f053caa807f2328e.js" async=""></script><script src="/app-4ec94952307a3bcd6b4e.js" async=""></script><script src="/framework-bee7a8ddabfa6589450d.js" async=""></script><script src="/webpack-runtime-b3fbb17839a7b6b221ae.js" async=""></script></body></html>